<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="zh-cn"><head><meta charset="UTF-8"><meta name="copyright" content="(C) 版权 2024"><meta name="generator" content="DITA-OT"><meta name="description" content="关闭兼容模式下(关闭csm)安装win7"><title>纯UEFI安装Win7</title><link rel="stylesheet" type="text/css" href="../../commonltr.css"></head><body id="纯UEFI安装Win7-460464AD"><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">纯UEFI安装Win7</h1>


<div class="body taskbody"><p class="shortdesc">关闭兼容模式下(关闭csm)安装win7</p>
<section class="section prereq"></section>
<section class="section context"></section>
<section><ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">为了便于测试，使虚拟机启用UEFI模式（以VMware虚拟机为例）  <strong class="ph b">1、在VM软件没有启动的条件下，找到虚拟机文件的存储目录，找到
“[虚拟机名].vmx” 文件。使用记事本打开，添加下述内容firmware = "efi"后，保存。 </strong></span>
<div class="itemgroup info"><p class="p"> <img class="image" src="../../images/2018-01/uefi01.png">&nbsp; </p></div>
</li><li class="li step stepexpand"><span class="ph cmd">启动VM软件，并启动刚才改过文件的虚拟机，虚拟机启动后如下图：</span>
<div class="itemgroup info"><p class="p"> <img class="image" src="../../images/2018-01/uefi02.png">&nbsp; （UEFI模式下虚拟机的“VMWARE”字样比BIOS模式使更为柔和精致）  <strong class="ph b">3、启动U盘装机助理ISO版。U盘装机助理是支持UEFI模式启动的，UEFI模式启动时会看到如下图的启动菜单，而并非是传统菜单。</strong> <img class="image" src="../../images/2018-01/uefi03.png"></p></div>
</li><li class="li step stepexpand"><span class="ph cmd">进入PE后，运行DiskGenius。如果硬盘默认为MBR格式，在硬盘上单击右键，选中菜单中的“转换为GUID格式”</span>
<div class="itemgroup info"><p class="p"><img class="image" src="../../images/2018-01/uefi04.png">&nbsp; 这里的GUID模式，其实就是GPT模式。如果模式就是GUID模式，则不需要刚才所说的转化。  <strong class="ph b">5、启用快速分区，按照自己的意图划分分区。但一定要注意选中“创建ESP分区”和“创建MSR分区”</strong> <img class="image" src="../../images/2018-01/uefi05.png">&nbsp; 其中，ESP分区用于存储UEFI启动相关文件，而MSR分区用于动态磁盘（有兴趣百度一下）。  <strong class="ph b">6、分区完成后，形如下图。注意创建出了ESP分区和MSR分区。</strong> <img class="image" src="../../images/2018-01/uefi06.png">&nbsp; ESP分区是一个FAT（FAT16）或FAT32格式的分区，可以被访问和读写，这样才能正常写入引导文件。 ESP分区被分配了盘符是很重要的，Windows的安装和引导修复是基于盘符的，如果ESP分区没有被分配盘符，引导是不会被正常写入的。</p></div>
</li><li class="li step stepexpand"><span class="ph cmd">启动Easy Image X，自动扫描完成，识别了ESP分区（盘符为H，0.1G，FAT格式），和普通分区C与D盘。</span>
<div class="itemgroup info"><p class="p"><img class="image" src="../../images/2018-01/uefi07.png"></p></div>
</li><li class="li step stepexpand"><span class="ph cmd">将系统恢复到系统分区内（这里是指C盘），恢复过程需要一段时间。</span>
<div class="itemgroup info"><img class="image" src="../../images/2018-01/uefi08.png"></div>
</li><li class="li step stepexpand"><span class="ph cmd">恢复顺利完成后的提示如下图。</span>
<div class="itemgroup info"><img class="image" src="../../images/2018-01/uefi09.png"></div>
</li><li class="li step stepexpand"><span class="ph cmd"><strong class="ph b">恢复完成后：</strong> <strong class="ph b">打开系统分区（C:），会看到系统文件全在里面；</strong> <strong class="ph b">打开ESP分区（H:），会看到引导文件已被
Easy Image X 修复并写入其中。</strong></span>
<div class="itemgroup info"><img class="image" src="../../images/2018-01/uefi10.png">&nbsp; <strong class="ph b">Easy Image X 具备UEFI引导文件自动修复功能，但前提有2：</strong> （1）ESP分区存在、ESP分区被分配了盘符；
（2）所恢复系统的确支持在UEFI+GPT模式下启动。  </div>
</li><li class="li step stepexpand"><span class="ph cmd">如果是一些机器对UEFI+CSM方式支持不够造成重新启动后出错的。可以在重新启动之前，在PE中使用EasyDrv7万能驱动给系统添加驱动，注意驱动安装要按照顺序：如果顺序不对，会出现卡在“安装部署注册表”，或会出现“计算机意外地重新启动或遇到错误，导致系统安装无法继续”错误。</span>
<ol type="a" class="ol substeps">
<li class="li substep"><span class="ph cmd">装主板驱动</span></li>
<li class="li substep"><span class="ph cmd">装显卡驱动</span></li>
<li class="li substep"><span class="ph cmd">装网卡驱动</span></li>
<li class="li substep"><span class="ph cmd">装声卡驱动</span></li>
</ol>
</li><li class="li step stepexpand"><span class="ph cmd">重启，如图所示，系统已正常启动。</span>
<div class="itemgroup info"> <img class="image" src="../../images/2018-01/uefi11.png"></div>
</li><li class="li step stepexpand"><span class="ph cmd">当出现弹出对话框提示：“计算机意外地重新启动或遇到错误，导致系统安装无法继续”的时候,按下shift+f10
会打开命令窗口,进入到C:\windows\system32\oobe文件夹,输入msoobe回车然后输入msoobe即可进入下一步操作,但错误提示框仍然在,不用理会按照屏幕提示输入相应的信息直至完成系统的安装.安装好后WIN7系统无任何问题.</span>
<div class="itemgroup info"><img class="image" src="../../images/2018-01/uefi12.jpg"></div>
</li><li class="li step stepexpand"><span class="ph cmd">额外的提醒：</span>
<div class="itemgroup info"><p class="p"><strong class="ph b"></strong>  <strong class="ph b">1、支持UEFI+GPT的系统，几乎都是x64系统，如Win7 x64、Win8/8.1
x64、Win10 x64。</strong> 个别硬件设备支持x86的Win8.1的UEFI启动，这只是一些特例，和硬件特殊性有关。 如果系统本身就不支持UEFI+GPT模式下启动，怎么恢复、怎么修复引导都是徒劳，更不要归咎于Easy
Image X。  <strong class="ph b">2、UEFI Legacy模式，等同于BIOS模式。</strong> 如果是这种模式，即便是GPT硬盘，设置了引导也无法启动。因为BIOS+GPT本身就是无法启动系统的组合。
在UEFI中设置为纯UEFI模式（UEFI Only）或UFEI优先模式（UEFI First），可以更确定的实现UEFI+GPT环境。
有些主板具有智能的UEFI兼容功能，但有时会过于自作聪明的去兼容，也会影响系统启动与引导。  <strong class="ph b">3、UEFI+GPT并不能非常有效的提高开机速度（当然，还是有点作用的），网传的X秒启动，大多数是混淆了WIN8/8.1的假关机功能造成的。</strong> 理性对待UEFI+GPT，这只是一个新模式，不是神话。  <strong class="ph b">4、GPT在最主要作用是识别超大容量硬盘，如3TB及以上，这种硬盘MBR模式无法完全识别其容量。</strong> 但使用GPT不代表着必须使用UEFI。BIOS+GPT也是合理的模式，但这种模式下无法启动此硬盘上的系统，而如果只是作为存储盘，则没有什么影响。
主硬盘BIOS+MBR装系统、软件，次硬盘BIOS+GPT存储文件，这是很多影音文件发烧友在使用的模式。 UEFI+GPT最大的作用是，允许启动安装在GPT硬盘上的操作系统。
 <strong class="ph b">5、盘符并不会影响系统恢复效果和引导修复功能</strong></p></div>
</li></ol></section>
<section class="section result"></section>
<section class="example"><ul class="ul">
<li class="li"><p class="p"><a class="xref" href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;ved=0ahUKEwizkLTg9LvYAhUCoZQKHR2XCBcQFggnMAA&amp;url=%68%74%74%70%3a%2f%2f%62%6c%6f%67%2e%73%69%6e%61%2e%63%6f%6d%2e%63%6e%2f%73%2f%62%6c%6f%67%5f%63%35%39%35%65%64%63%35%30%31%30%32%77%77%7a%34%2e%68%74%6d%6c&amp;usg=AOvVaw1IY6_-KSsqQCWRcSjduSl2" target="_blank" rel="external noopener">（图文教程）利用DISM++工具整合驱动和预补丁至win7镜像</a></p></li>
<li class="li"><p class="p"><a class="xref" href="http://tieba.baidu.com/p/5290530407" target="_blank" rel="external noopener">【x6ti-s装win7】机械革命X6TI系列纯UEFI安装</a></p></li>
<li class="li"><p class="p"><a class="xref" href="https://www.chuyu.me/zh-Hans/" target="_blank" rel="external noopener">Dism++ | 全新的Windows 实用工具</a></p></li>
<li class="li"><p class="p"><a class="xref" href="https://www.chuyu.me/zh-Hans/Document.html?file=Best/%E7%BB%99ISO%E7%A6%BB%E7%BA%BF%E9%9B%86%E6%88%90%E8%A1%A5%E4%B8%81.md" target="_blank" rel="external noopener">给ISO离线集成补丁 - Dism++</a></p></li>
<li class="li"><p class="p"><a class="xref" href="https://club.lenovo.com.cn/thread-1933618-1-1.html" target="_blank" rel="external noopener">如何为WINPE添加NVME驱动</a></p></li>
<li class="li"><p class="p"><a class="xref" href="https://www.itsk.com/thread-366662-1-1.html" target="_blank" rel="external noopener">使用Dism++和Dism为优启通08PE添加驱动</a></p></li>
<li class="li"><p class="p"><a class="xref" href="http://www.cbber.com/thread-79241-1-1.html" target="_blank" rel="external noopener">再转一贴，只为学习，不知可有大神研究这个：关于蓝天N卡的UEFI Vbios</a></p></li>
</ul></section>
<section class="section postreq"></section>
</div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>父主题：</strong> <a class="link" href="Windows%E4%BD%BF%E7%94%A8.html">Windows使用</a></div></div></nav></article></main></body></html>