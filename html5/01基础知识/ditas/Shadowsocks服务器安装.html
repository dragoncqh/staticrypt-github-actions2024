<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="zh-cn"><head><meta charset="UTF-8"><meta name="copyright" content="(C) 版权 2024"><meta name="generator" content="DITA-OT"><meta name="description" content=""><title>Shadowsocks服务器安装</title><link rel="stylesheet" type="text/css" href="../../commonltr.css"></head><body id="Shadowsocks服务器安装-2F242A63"><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="title topictitle1" id="ariaid-title1">Shadowsocks服务器安装</h1>


<div class="body taskbody"><p class="shortdesc"></p>
<section class="section prereq"></section>
<section class="section context"></section>
<section><ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">准备环境</span>
<ol type="a" class="ol substeps">
<li class="li substep"><span class="ph cmd">更新软件源：<code class="ph codeph">sudo apt-get update</code></span></li>
<li class="li substep"><span class="ph cmd">安装 PIP 环境：<code class="ph codeph">sudo apt-get install python-pip</code></span></li>
</ol>
</li><li class="li step stepexpand"><span class="ph cmd">Shadowsocks-go一键安装脚本:</span>
<div class="itemgroup info"><pre class="pre codeblock"><code>wget --no-check-certificate -O shadowsocks-go.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-go.sh
chmod +x shadowsocks-go.sh
./shadowsocks-go.sh 2&gt;&amp;1 | tee shadowsocks-go.log</code></pre></div>
</li><li class="li step stepexpand"><span class="ph cmd">直接安装 shadowsocks：<code class="ph codeph">sudo pip install shadowsocks</code></span>
<ol type="a" class="ol substeps">
<li class="li substep"><span class="ph cmd"></span><br></li>
<li class="li substep"><span class="ph cmd"></span><br></li>
</ol>
</li><li class="li step stepexpand"><span class="ph cmd">运行 shadowsocks服务：使用启动命令：<code class="ph codeph">sudo ssserver -p 8388 -k
password -m aes-256-cfb -d start</code></span>
<div class="itemgroup info">如果要停止运行，将命令中的start改成stop。</div>
</li><li class="li step stepexpand"><span class="ph cmd">使用配置文件配置shadowsocks自动运行：</span>
<ol type="a" class="ol substeps">
<li class="li substep substepexpand"><span class="ph cmd">创建文件：<code class="ph codeph">sudo vi /etc/shadowsocks.json</code>填入如下内容：</span>
<div class="itemgroup info"><pre class="pre codeblock"><code>{
    "server":"服务器IP",
    "server_port":8388,
    "local_address": "127.0.0.1",
    "local_port":1080,
    "password":"密码",
    "timeout":300,
    "method":"aes-256-cfb"
}</code></pre><p class="p">各字段的含义： server 	服务器 IP (IPv4/IPv6)，注意这也将是服务端监听的 IP
地址； server_port 	服务器端口 local_port 	本地端端口； password 	用来加密的密码； timeout
	超时时间（秒）； method 	加密方法，可选择 “bf-cfb”, “aes-256-cfb”, “des-cfb”, “rc4″,
等等。默认是一种不安全的加密，推荐用 “aes-256-cfb”</p><p class="p">TIPS: 加密方式推荐使用rc4-md5，因为 RC4
比 AES 速度快好几倍，如果用在路由器上会带来显著性能提升。旧的 RC4 加密之所以不安全是因为 Shadowsocks 在每个连接上重复使用
key，没有使用 IV。现在已经重新正确实现，可以放心使用。更多可以看 issue。</p><div class="note note note_note"><span class="note__title">注：</span> <div class="note__body">如果是阿里云海外机房，“server”必填”0.0.0.0”，而并非是自己的公网IP或内网IP</div></div> </div>
</li>
<li class="li substep substepexpand"><span class="ph cmd">创建完毕后，赋予文件权限：<code class="ph codeph">sudo chmod 755 /etc/shadowsocks.json</code></span></li>
<li class="li substep substepexpand"><span class="ph cmd">为了支持这些加密方式，你要需要安装<code class="ph codeph">sudo apt–get install python–m2crypto</code></span></li>
<li class="li substep substepexpand"><span class="ph cmd">使用配置文件在后台运行：<code class="ph codeph">sudo ssserver -c /etc/shadowsocks.json
-d start</code></span></li>
</ol>
</li><li class="li step stepexpand"><span class="ph cmd">配置开机自启动: </span>
<ol type="a" class="ol substeps">
<li class="li substep"><span class="ph cmd">编辑 /etc/rc.local 文件  sudo vi /etc/rc.local   在 exit
0 这一行的上边加入如下  /usr/local/bin/ssserver –c /etc/shadowsocks.json</span>
</li>
<li class="li substep"><span class="ph cmd">或者 不用配置文件 直接加入命令启动如下：  /usr/local/bin/ssserver -p 8388
-k password -m aes-256-cfb -d start </span></li>
</ol>
<div class="itemgroup stepresult">到此重启服务器后，会自动启动。 <div class="note note note_note"><span class="note__title">注：</span> <div class="note__body">需要服务器开启 8388 端口<code class="ph codeph">iptables
-A INPUT -ptcp --dport 8388 -j ACCEPT</code>查看哪些端口被打开&nbsp; <code class="ph codeph">netstat -anp</code></div></div></div>
</li></ol></section>
<section class="section result"></section>
<section class="example"><ul class="ul">
<li class="li"><p class="p"><a class="xref" href="https://teddysun.com/392.html" target="_blank" rel="external noopener">Shadowsocks-go一键安装脚本</a></p></li>
<li class="li"><p class="p"><a class="xref" href="http://wuchong.me/blog/2015/02/02/shadowsocks-install-and-optimize/" target="_blank" rel="external noopener">科学上网之 Shadowsocks 安装及优化加速</a></p></li>
</ul></section>
<section class="section postreq"></section>
</div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>父主题：</strong> <a class="link" href="Ubuntu.html" title="Ubuntu 是一个完全基于 Linux 的操作系统，它不但免费，而且有专业人员和业余爱好者共同为其提供技术支持。">Ubuntu</a></div></div></nav></article></main></body></html>